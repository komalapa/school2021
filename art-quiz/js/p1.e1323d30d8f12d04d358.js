(()=>{"use strict";var e={845:(e,a,t)=>{e.exports=t.p+"images/rs_school_js.svg"}},a={};function t(r){var m=a[r];if(void 0!==m)return m.exports;var n=a[r]={exports:{}};return e[r](n,n.exports,t),n.exports}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var a=t.g.document;if(!e&&a&&(a.currentScript&&(e=a.currentScript.src),!e)){var r=a.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),(()=>{const e="https://github.com/komalapa/image-data/raw/master/img/",a=10,r=document.getElementById("art-quiz-app"),m=document.getElementById("art-quiz-main-menu");function n(e,a=!0,t=!1,r=!1){const m=document.createElement("div");if(m.classList.add("crumps"),!1!==a){const e=document.createElement("span");e.innerText="ArtQuiz",e.classList.add("crumps-logo"),e.dataset.action="goHome",m.append(e)}if(!1!==t){const e=document.createElement("span");e.innerText=`Раунд №${t+1}`,e.dataset.action="start",m.append(e)}if(!1!==r){const e=document.createElement("span");e.innerText=`Вопрос №${r+1}`,m.append(e)}e.append(m)}function u(e){const t=document.createElement("div");t.classList.add("rounds-wrp"),n(t);const m=document.createElement("h2");m.classList.add("rounds-header"),"picture"===e.type?m.innerText="Найди автора":"author"===e.type?m.innerText="Найди картину":m.innerText="Смешаный режим",t.append(m);for(let r=0;r<e.rounds.length;r+=1){const m=document.createElement("div");m.classList.add("rounds-opener"),"picture"===e.type&&m.classList.add("rounds-opener-picture");const n=document.createElement("span");n.innerText=r+1;const u=e.rounds[r].getProgress(),s=document.createElement("span");s.innerText=`${Math.round(100*u)}%`,s.classList.add("rounds-opener-result"),s.dataset.roundNumber=r,u>0&&(s.dataset.action="roundResult"),m.append(n,s),m.dataset.action="render",m.dataset.object="questions",m.dataset.roundNumber=r,m.dataset.questionNumber=e.rounds[r].questions[0].number%a,u>.3&&m.classList.add("rounds-opener-solved"),t.append(m)}r.innerHTML="",r.append(t)}function s(e,a=!0,t=!0){const m=document.createElement("div");m.classList.add("card-wrp"),a||m.classList.add("card-wrp-wrong");const n=document.createElement("img");n.src=e.imagePath,n.classList.add("card-img");const u=document.createElement("span");u.classList.add("card-name"),u.innerText=e.name;const s=document.createElement("span");s.classList.add("card-year"),s.innerText=e.year;const o=document.createElement("span");if(o.classList.add("card-author"),o.innerText=e.author,m.append(n,s,u,o),t){const a=document.createElement("button");a.classList.add("card-button"),a.innerText="Далее",a.dataset.action="closeCard",a.dataset.number=e.number,a.dataset.roundNumber=e.roundNumber,m.append(a)}else{const e=document.createElement("button");e.classList.add("card-button"),e.innerText="Закрыть",e.dataset.action="removeCard",m.append(e)}n.onload=()=>{r.append(m)}}const o=function(){let e;return function(){return void 0===e&&(e={},e.music=!localStorage.getItem("komaAQmusic")||JSON.parse(localStorage.getItem("komaAQmusic")),e.sounds=!localStorage.getItem("komaAQsounds")||JSON.parse(localStorage.getItem("komaAQsounds")),e.volume=localStorage.getItem("komaAQvolume")||.5,e.answers=localStorage.getItem("komaAQanswers")||2,e.timer=localStorage.getItem("komaAQtimer")?JSON.parse(localStorage.getItem("komaAQtimer")):null,e.toggleMusic=()=>{e.music=!e.music,localStorage.setItem("komaAQmusic",e.music)},e.toggleSounds=()=>{e.sounds=!e.sounds,localStorage.setItem("komaAQsounds",e.sounds)},e.setVolume=a=>{e.volume=a,localStorage.setItem("komaAQvolume",a)},e.setAnswers=a=>{e.answers=a,localStorage.setItem("komaAQanswers",a)},e.setTimer=a=>{e.timer=a,localStorage.setItem("komaAQtimer",a)}),e}}(),i=function(){let e;return function(){if(void 0===e){e={};const a=localStorage.getItem("komalapaAQstate");a?e=JSON.parse(a):(e.picture=new Array(240),e.author=new Array(240),e.timer=null),e.stopTimer=()=>{clearTimeout(e.timer),e.timer=null},e.saveState=()=>localStorage.setItem("komalapaAQstate",JSON.stringify(e))}return e}}(),c=new o,d=new i;function g(e){const t=document.createElement("div");t.classList.add("question-wrp"),n(t,!0,e.roundNumber,e.number%a);const m=document.createElement("span");m.classList.add("question-text"),t.append(m);const u=document.createElement("div");u.classList.add("question-answers-wrp");const o=[];if("picture"===e.type){m.innerText="Выберите автора картины:";const a=e.getImage(),r=document.createElement("img");r.classList.add("question-main-picture");const n=new Promise((e=>{a.onload=()=>{r.src=a.src,e()}}));o.push(n),e.getAnswers().forEach(((a,m)=>{const n=document.createElement("div");n.classList.add("question-answers","question-answers-author"),n.innerText=a,u.append(n),t.append(r,u),n.dataset.action="answer",n.dataset.questionNumber=e.number,n.dataset.index=m}))}else"author"===e.type&&(u.classList.add("question-answers-pictures"),m.innerText=`${e.author} написал:`,e.getAnswers().forEach(((a,t)=>{const r=document.createElement("img");r.src=a,r.classList.add("question-answers","question-answers-picture");const m=new Promise((a=>{r.onload=()=>{u.append(r),r.dataset.action="answer",r.dataset.questionNumber=e.number,r.dataset.index=t,a()}}));o.push(m)})));t.append(u);const i=document.createElement("div");i.classList.add("result-dots-wrp");let g=e.roundNumber*a;for(;g<(e.roundNumber+1)*a;g+=1){const a=document.createElement("div");a.classList.add(d[e.type][g]?"result-dots-good":"result-dots-bad"),i.append(a)}t.append(i),t.classList.add("loading"),r.innerHTML="",r.append(t),Promise.all(o).then((()=>{null!==c.timer&&e.setTimer(t,(()=>s(e,!1))),t.classList.remove("loading")}))}const l=[{author:"Павел Федотов",name:"Сватовство майора",year:"1852",imageNum:"0"},{author:"Эдгар Дега",name:"Голубые танцовщицы",year:"1897",imageNum:"1"},{author:"Веронезе",name:"Пир в доме Левия",year:"1563",imageNum:"2"},{author:"Илья Репин",name:"Иван Грозный и сын его Иван",year:"1885",imageNum:"3"},{author:"Константин Маковский",name:"Портрет графини Софьи",year:"1890",imageNum:"4"},{author:"Василий Перов",name:"Приезд гувернантки в купеческий дом",year:"1866",imageNum:"5"},{author:"Микеланджело",name:"Сотворение Адама",year:"1511",imageNum:"6"},{author:"Пьер Огюст Ренуар",name:"Прогулка в Булонском лесу",year:"1873",imageNum:"7"},{author:"Ян Вермеер",name:"Хозяйка и служанка",year:"1667",imageNum:"8"},{author:"Василий Поленов",name:"Московский дворик",year:"1877",imageNum:"9"},{author:"Фёдор Васильев",name:"Мокрый луг",year:"1872",imageNum:"10"},{author:"Илья Репин",name:"Проводы новобранца",year:"1879",imageNum:"11"},{author:"Веронезе",name:"Марс и Венера",year:"1560",imageNum:"12"},{author:"Виктор Васнецов",name:"Аленушка",year:"1881",imageNum:"13"},{author:"Клод Лоррен",name:"Отплытие святой Урсулы",year:"1614",imageNum:"14"},{author:"Илья Репин",name:"Вечорници",year:"1881",imageNum:"15"},{author:"Жан Фрагонар",name:"Качели",year:"1767",imageNum:"16"},{author:"Архип Куинджи",name:"Берёзовая роща",year:"1879",imageNum:"17"},{author:"Пабло Пикассо",name:"Герника",year:"1937",imageNum:"18"},{author:"Поль Гоген",name:"Откуда мы пришли? Кто мы? Куда мы идём?",year:"1898",imageNum:"19"},{author:"Бартоломео Мурильо",name:"Мадонна с четками",year:"1655",imageNum:"20"},{author:"Питер Брейгель",name:"Фламандские пословицы",year:"1559",imageNum:"21"},{author:"Ян ван Эйк",name:"Портрет четы Арнольфини",year:"1434",imageNum:"22"},{author:"Питер Брейгель",name:"Избиение младенцев",year:"1567",imageNum:"23"},{author:"Константин Маковский",name:"Дети, бегущие от грозы",year:"1872",imageNum:"24"},{author:"Рембрандт",name:"Даная",year:"1647",imageNum:"25"},{author:"Рафаэль",name:"Мадонна в кресле",year:"1514",imageNum:"26"},{author:"Василий Суриков",name:"Взятие снежного городка",year:"1891",imageNum:"27"},{author:"Иван Шишкин",name:"Ручей в берёзовом лесу",year:"1883",imageNum:"28"},{author:"Василий Суриков",name:"Покорение Сибири Ермаком Тимофеевичем",year:"1895",imageNum:"29"},{author:"Владимир Боровиковский",name:"Портрет Лопухиной",year:"1797",imageNum:"30"},{author:"Рене Магритт",name:"Сын человеческий",year:"1964",imageNum:"31"},{author:"Веласкес",name:"Венера с зеркалом",year:"1651",imageNum:"32"},{author:"Иван Богданов",name:"За расчётом",year:"1890",imageNum:"33"},{author:"Рембрандт",name:"Христос и грешница",year:"1644",imageNum:"34"},{author:"Джон Уильям Уотерхаус",name:"Волшебница Шалот",year:"1888",imageNum:"35"},{author:"Пьер Огюст Ренуар",name:"Большие купальщицы",year:"1887",imageNum:"36"},{author:"Бартоломео Мурильо",name:"Мальчик с собакой",year:"1650",imageNum:"37"},{author:"Василий Перов",name:"Тройка",year:"1866",imageNum:"38"},{author:"Николай Богданов-Бельский",name:"Устный счёт",year:"1895",imageNum:"39"},{author:"Виктор Васнецов",name:"Три царевны подземного царства",year:"1884",imageNum:"40"},{author:"Анри Матисс",name:"Танец",year:"1910",imageNum:"41"},{author:"Эдвард Мунк",name:"Мадонна",year:"1894",imageNum:"42"},{author:"Марк Шагал",name:"Прогулка",year:"1918",imageNum:"43"},{author:"Василий Перов",name:"Сельский крестный ход на Пасхе",year:"1861",imageNum:"44"},{author:"Иероним Босх",name:"Страшный суд",year:"1504",imageNum:"45"},{author:"Карл Лемох",name:"Варька",year:"1893",imageNum:"46"},{author:"Жан Фрагонар",name:"Поцелуй украдкой",year:"1788",imageNum:"47"},{author:"Франсуа Буше",name:"Венера, утешающая Амура",year:"1751",imageNum:"48"},{author:"Иван Шишкин",name:"Корабельная роща",year:"1898",imageNum:"49"},{author:"Густав Климт",name:"Золотая Адель",year:"1907",imageNum:"50"},{author:"Виктор Васнецов",name:"Богатыри",year:"1898",imageNum:"51"},{author:"Вильгельм фон Каульбах",name:"Разрушение Иерусалима",year:"1846",imageNum:"52"},{author:"Веронезе",name:"Брак в Кане Галилейской",year:"1562",imageNum:"53"},{author:"Андрей Рублев",name:"Троица",year:"1411",imageNum:"54"},{author:"Василий Суриков",name:"Утро стрелецкой казни",year:"1881",imageNum:"55"},{author:"Тициан",name:"Вакханалия",year:"1526",imageNum:"56"},{author:"Веласкес",name:"Вилла Медичи в Риме. Полдень",year:"1630",imageNum:"57"},{author:"Эдуард Мане",name:"Ланч на траве",year:"1863",imageNum:"58"},{author:"Сальвадор Дали",name:"Постоянство памяти",year:"1931",imageNum:"59"},{author:"Пьер Огюст Ренуар",name:"Две девушки",year:"1892",imageNum:"60"},{author:"Александр Маковский",name:"Надоела",year:"1897",imageNum:"61"},{author:"Веласкес",name:"Менины",year:"1656",imageNum:"62"},{author:"Антонис ван Дейк",name:"Самсон и Далила",year:"1628",imageNum:"63"},{author:"Пабло Пикассо",name:"Девочка на шаре",year:"1905",imageNum:"64"},{author:"Джованни Беллини",name:"Пир богов",year:"1514",imageNum:"65"},{author:"Леонардо да Винчи",name:"Дама с горностаем",year:"1490",imageNum:"66"},{author:"Веласкес",name:"Бахус",year:"1628",imageNum:"67"},{author:"Бартоломео Мурильо",name:"Непорочное зачатие",year:"1678",imageNum:"68"},{author:"Теодор Жерико",name:'Плот "Медузы"',year:"1819",imageNum:"69"},{author:"Иван Шишкин",name:"Утро в сосновом лесу",year:"1889",imageNum:"70"},{author:"Жан Этьен Лиотар",name:"Шоколадница",year:"1745",imageNum:"71"},{author:"Рембрандт",name:"Автопортрет с Саскией",year:"1635",imageNum:"72"},{author:"Илья Репин",name:"Крестный ход",year:"1883",imageNum:"73"},{author:"Алексей Венецианов",name:"Спящий пастушок",year:"1826",imageNum:"74"},{author:"Иван Богданов",name:"Новичок",year:"1893",imageNum:"75"},{author:"Анри де Тулуз-Лотрек",name:"Угол Мулен де ла Галет",year:"1892",imageNum:"76"},{author:"Тициан",name:"Кающаяся Марина Магдалина",year:"1565",imageNum:"77"},{author:"Веласкес",name:"Инфанта Маргарита",year:"1654",imageNum:"78"},{author:"Тициан",name:"Динарий Кесаря",year:"1516",imageNum:"79"},{author:"Карл Брюллов",name:"Всадница",year:"1832",imageNum:"80"},{author:"Василий Верещагин",name:"Апофеоз войны",year:"1817",imageNum:"81"},{author:"Леонардо да Винчи",name:"Благовещение",year:"1475",imageNum:"82"},{author:"Алексей Саврасов",name:"Грачи прилетели",year:"1871",imageNum:"83"},{author:"Тициан",name:"Любовь земная и Любовь небесная",year:"1516",imageNum:"84"},{author:"Жан Батист Грёз",name:"Деревенская помолвка",year:"1761",imageNum:"85"},{author:"Пабло Пикассо",name:"Авиньонские девицы",year:"1907",imageNum:"86"},{author:"Илья Репин",name:"Бурлаки на Волге",year:"1873",imageNum:"87"},{author:"Михаил Нестеров",name:"Видение отроку Варфоломею",year:"1890",imageNum:"88"},{author:"Рафаэль",name:"Мадонна Бельведерская",year:"1506",imageNum:"89"},{author:"Василий тропинин",name:"Девушка с горшком роз",year:"1850",imageNum:"90"},{author:"Караваджо",name:"Лютнист",year:"1596",imageNum:"91"},{author:"Василий Перов",name:"Охотники на привале",year:"1871",imageNum:"92"},{author:"Леонардо да Винчи",name:"Тайная вечеря",year:"1498",imageNum:"93"},{author:"Жан Батист Грёз",name:"Избалованное дитя",year:"1765",imageNum:"94"},{author:"Адольф Вильям Бугро",name:"Волна",year:"1896",imageNum:"95"},{author:"Кузьма Петров-Водкин",name:"Купание красного коня",year:"1912",imageNum:"96"},{author:"Густав Климт",name:"Поцелуй",year:"1908",imageNum:"97"},{author:"Иван Шишкин",name:"Рожь",year:"1878",imageNum:"98"},{author:"Жан-Леон Жером",name:"Бой гладиаторов",year:"1872",imageNum:"99"},{author:"Василий Суриков",name:"Боярыня Морозова",year:"1887",imageNum:"100"},{author:"Исаак Левитан",name:"Над вечным покоем",year:"1894",imageNum:"101"},{author:"Гейнсборо",name:"Дама в голубом",year:"1780",imageNum:"102"},{author:"Алексей Венецианов",name:"На пашне. Весна",year:"1820",imageNum:"103"},{author:"Тициан",name:"Саломея",year:"1515",imageNum:"104"},{author:"Василий Кандинский",name:"Композиция VIII",year:"1923",imageNum:"105"},{author:"Василий Поленов",name:"В парке",year:"1874",imageNum:"106"},{author:"Луи Лагрене",name:"Марс и Венера",year:"1770",imageNum:"107"},{author:"Сальвадор Дали",name:"Сон, вызванный полётом пчелы вокруг граната, за секунду до пробуждения",year:"1944",imageNum:"108"},{author:"Ян Вермеер",name:"Девушка с жемчужной серёжкой",year:"1665",imageNum:"109"},{author:"Анри Руссо",name:"Спящая цыганка",year:"1897",imageNum:"110"},{author:"Василий Поленов",name:"Переправа через реку",year:"1872",imageNum:"111"},{author:"Эдвард Мунк",name:"Крик",year:"1893",imageNum:"112"},{author:"Карл Брюллов",name:"Последний день Помпеи",year:"1833",imageNum:"113"},{author:"Илья Репин",name:"Летний пейзаж",year:"1879",imageNum:"114"},{author:"Ян Вермеер",name:"Молочница",year:"1660",imageNum:"115"},{author:"Иван Айвазовский",name:"Девятый вал",year:"1850",imageNum:"116"},{author:"Винсент ван Гог",name:"Подсолнухи",year:"1888",imageNum:"117"},{author:"Валентин Серов",name:"Девочка с персиками",year:"1887",imageNum:"118"},{author:"Караваджо",name:"Обращение Савла",year:"1601",imageNum:"119"},{author:"Альбрехт Дюрер",name:"Праздник венков из роз",year:"1506",imageNum:"120"},{author:"Эль Греко",name:"Изгнание торгующих из храма",year:"1600",imageNum:"121"},{author:"Илья Репин",name:"Приготовление к экзамену",year:"1864",imageNum:"122"},{author:"Исаак Левитан",name:"Март",year:"1895",imageNum:"123"},{author:"Адольф Вильям Бугро",name:"Девушка и Амур",year:"1880",imageNum:"124"},{author:"Леонардо да Винчи",name:"Мадонна Литта",year:"1491",imageNum:"125"},{author:"Казимир Малевич",name:"Черный квадрат",year:"1915",imageNum:"126"},{author:"Эль Греко",name:"Апостолы Петр и Павел",year:"1592",imageNum:"127"},{author:"Виктор Васнецов",name:"Витязь на распутье",year:"1878",imageNum:"128"},{author:"Константин Маковский",name:"Боярский свадебный пир",year:"1883",imageNum:"129"},{author:"Эжен Делакруа",name:"Свобода, ведущая народ",year:"1830",imageNum:"130"},{author:"Василий Поленов",name:"Бабушкин сад",year:"1878",imageNum:"131"},{author:"Анри Матисс",name:"Семейный портрет",year:"1911",imageNum:"132"},{author:"Константин Маковский",name:"Гадание",year:"1890",imageNum:"133"},{author:"Пьер Огюст Ренуар",name:"Мост в Шату",year:"1875",imageNum:"134"},{author:"Сандро Боттичелли",name:"Весна",year:"1482",imageNum:"135"},{author:"Пьер Огюст Ренуар",name:"Зонтики",year:"1886",imageNum:"136"},{author:"Гюстав Курбе",name:"Мастерская художника",year:"1855",imageNum:"137"},{author:"Василий Поленов",name:"Деревня Окулова гора",year:"1860",imageNum:"138"},{author:"Константин Маковский",name:"Перемещение ковра Мухаммеда из Мекки в Каир",year:"1875",imageNum:"139"},{author:"Пьер Огюст Ренуар",name:"Бал в Мулен де ла Галетт",year:"1876",imageNum:"140"},{author:"Иван Крамской",name:"Неизвестная",year:"1883",imageNum:"141"},{author:"Веласкес",name:"Кузница вулкана",year:"1630",imageNum:"142"},{author:"Илья Репин",name:"Запорожцы",year:"1891",imageNum:"143"},{author:"Рафаэль",name:"Дама с единорогом",year:"1506",imageNum:"144"},{author:"Александр Иванов",name:"Явление Христа народу",year:"1857",imageNum:"145"},{author:"Эдуард Мане",name:"Женщина с кувшином",year:"1858",imageNum:"146"},{author:"Тициан",name:"Конный портрет Карла V",year:"1548",imageNum:"147"},{author:"Пьер Огюст Ренуар",name:"Завтрак гребцов",year:"1881",imageNum:"148"},{author:"Карл Брюллов",name:"Итальянский полдень",year:"1827",imageNum:"149"},{author:"Виктор Васнецов",name:"Царь Иван Васильевич Грозный",year:"1896",imageNum:"150"},{author:"Питер Брейгель",name:"Охотники на снегу",year:"1565",imageNum:"151"},{author:"Виктор Васнецов",name:"Ковер-самолёт",year:"1880",imageNum:"152"},{author:"Марк Шагал",name:"Я и деревня",year:"1911",imageNum:"153"},{author:"Леонардо да Винчи",name:"Мона Лиза",year:"1505",imageNum:"154"},{author:"Франческо Баккьякка",name:"Мадонна с младенцем",year:"1520",imageNum:"155"},{author:"Жак-Луи Давид",name:"Клятва Горациев",year:"1784",imageNum:"156"},{author:"Альбрехт Дюрер",name:"Адам и Ева",year:"1507",imageNum:"157"},{author:"Бартоломео Мурильо",name:"Явление и дар Богородицы",year:"1655",imageNum:"158"},{author:"Василий Перов",name:"Птицелов",year:"1870",imageNum:"159"},{author:"Караваджо",name:"Отдых на пути в Египет",year:"1596",imageNum:"160"},{author:"Франциско Гоя",name:"Расстрел повстанцев",year:"1808",imageNum:"161"},{author:"Рафаэль",name:"Триумф Галатеи",year:"1512",imageNum:"162"},{author:"Михаил Врубель",name:"Демон сидящий",year:"1890",imageNum:"163"},{author:"Винсент ван Гог",name:"Ирисы",year:"1889",imageNum:"164"},{author:"Поль Деларош",name:"Казнь Джейн Грей",year:"1833",imageNum:"165"},{author:"Джон Констебл",name:"Вид на собор в Солсбери из епископского сада",year:"1823",imageNum:"166"},{author:"Винсент ван Гог",name:"Звёздная ночь",year:"1889",imageNum:"167"},{author:"Франсуа Буше",name:"Четыре сезона - Весна",year:"1755",imageNum:"168"},{author:"Рафаэль",name:"Мадонна с розой",year:"1518",imageNum:"169"},{author:"Василий Тропинин",name:"Кружевница",year:"1823",imageNum:"170"},{author:"Рембрандт",name:"Пир Вальтасара",year:"1635",imageNum:"171"},{author:"Василий Суриков",name:"Переход Суворова через Альпы",year:"1899",imageNum:"172"},{author:"Исаак Левитан",name:"Золотая осень",year:"1895",imageNum:"173"},{author:"Архип Куинджи",name:"На острове Валааме",year:"1873",imageNum:"174"},{author:"Веласкес",name:"Сдача Бреды",year:"1635",imageNum:"175"},{author:"Илья Репин",name:"Не ждали",year:"1888",imageNum:"176"},{author:"Франсуа Буше",name:"Купание Дианы",year:"1742",imageNum:"177"},{author:"Марианна Верёвкина",name:"Муравейник",year:"1916",imageNum:"178"},{author:"Пьер Огюст Ренуар",name:"Портрет Жанны Самари",year:"1877",imageNum:"179"},{author:"Илья Репин",name:"Садко",year:"1876",imageNum:"180"},{author:"Архип Куинджи",name:"Лунная ночь на Днепре",year:"1880",imageNum:"181"},{author:"Веласкес",name:"Поклонение волхвов",year:"1619",imageNum:"182"},{author:"Николай Богданов-Бельский",name:"У дверей школы",year:"1897",imageNum:"183"},{author:"Иероним Босх",name:"Сад земных наслаждений",year:"1510",imageNum:"184"},{author:"Корреджо",name:"Даная",year:"1530",imageNum:"185"},{author:"Питер Пауль Рубенс",name:"Похищение дочерей Левкиппа",year:"1618",imageNum:"186"},{author:"Жан Энгр",name:"Большая одалиска",year:"1814",imageNum:"187"},{author:"Рафаэль",name:"Сикстинская Мадонна",year:"1520",imageNum:"188"},{author:"Рембрандт",name:"Похищение Европы",year:"1632",imageNum:"189"},{author:"Питер Пауль Рубенс",name:"Похищение Орфии Бореем",year:"1615",imageNum:"190"},{author:"Архип Куинджи",name:"Украинская ночь",year:"1876",imageNum:"191"},{author:"Эдгар Дега",name:"Танцовщицы у станка",year:"1877",imageNum:"192"},{author:"Алексей Венецианов",name:"На жатве. Лето",year:"1827",imageNum:"193"},{author:"Пьер Огюст Ренуар",name:"Две сестры",year:"1881",imageNum:"194"},{author:"Рембрандт",name:"Ночной дозор",year:"1642",imageNum:"195"},{author:"Эдуар Мане",name:"Бар в «Фоли-Бержер»",year:"1882",imageNum:"196"},{author:"Никола Пуссен",name:"Пейзаж с Полифемом",year:"1649",imageNum:"197"},{author:"Питер Брейгель",name:"Притча о слепых",year:"1568",imageNum:"198"},{author:"Виктор Васнецов",name:"Иван-царевич на Сером Волке",year:"1888",imageNum:"199"},{author:"Сандро Боттичелли",name:"Рождение Венеры",year:"1486",imageNum:"200"},{author:"Леонардо да Винчи",name:"Мадонна в скалах",year:"1486",imageNum:"201"},{author:"Аксели Галлен-Каллела",name:"Любовники",year:"1916",imageNum:"202"},{author:"Винсент Ван Гог",name:"Автопортрет с перевязанным ухом",year:"1889",imageNum:"203"},{author:"Клод Моне",name:"Впечатление. Восходящее солнце",year:"1882",imageNum:"204"},{author:"Рембрандт",name:"Возвращение блудного сына",year:"1662",imageNum:"205"},{author:"Караваджо",name:"Больной вакх",year:"1593",imageNum:"206"},{author:"Иван Айвазовский",name:"Лунная дорожка",year:"1886",imageNum:"207"},{author:"Винсент Ван Гог",name:"Пшеничное поле с кипарисами",year:"1889",imageNum:"208"},{author:"Аксели Галлен-Каллела",name:"Мальчик и ворона",year:"1884",imageNum:"209"},{author:"Ян Вермеер",name:"Астроном",year:"1668",imageNum:"210"},{author:"Питер Пауль Рубенс",name:"Союз Земли и Воды",year:"1618",imageNum:"211"},{author:"Клод Моне",name:"Стог сена в Живерни",year:"1886",imageNum:"212"},{author:"Жан Фрагонар",name:"Задвижка",year:"1777",imageNum:"213"},{author:"Марианна Верёвкина",name:"Осень, школа",year:"1907",imageNum:"214"},{author:"Винсент Ван Гог",name:"Ночное кафе в Арле",year:"1888",imageNum:"215"},{author:"Клод Моне",name:"Пруд с кувшинками",year:"1899",imageNum:"216"},{author:"Иван Айвазовский",name:"Буря",year:"1868",imageNum:"217"},{author:"Ян Вермеер",name:"Кружевница",year:"1671",imageNum:"218"},{author:"Карл Брюллов",name:"Автопортрет",year:"1848",imageNum:"219"},{author:"Питер Брейгель",name:"Вавилонская башня",year:"1563",imageNum:"220"},{author:"Поль Гоген",name:"Кафе в Арле",year:"1888",imageNum:"221"},{author:"Иван Шишкин",name:"Сосновый бор",year:"1895",imageNum:"222"},{author:"Клод Моне",name:"Завтрак на траве",year:"1865",imageNum:"223"},{author:"Рафаэль",name:"Святой Георгий и дракон",year:"1506",imageNum:"224"},{author:"Пабло Пикассо",name:"Любительница абсента",year:"1901",imageNum:"225"},{author:"Эдгар Дега",name:"Перед репетицией",year:"1880",imageNum:"226"},{author:"Николай Рерих",name:"Помни!",year:"1924",imageNum:"227"},{author:"Илья Репин",name:"Стрекоза",year:"1884",imageNum:"228"},{author:"Клод Моне",name:"Мост Ватерлоо, туман",year:"1903",imageNum:"229"},{author:"Исаак Левитан",name:"Весна – большая вода",year:"1897",imageNum:"230"},{author:"Аксели Галлен-Каллела",name:"Первый урок",year:"1889",imageNum:"231"},{author:"Иван Айвазовский",name:"Буря на море",year:"1873",imageNum:"232"},{author:"Эдгар Дега",name:"Балетный класс",year:"1874",imageNum:"233"},{author:"Николай Рерих",name:"Горная обитель",year:"1933",imageNum:"234"},{author:"Леонардо да Винчи",name:"Святая Анна с Мадонной",year:"1510",imageNum:"235"},{author:"Эль Греко",name:"Мальчик, зажигающий свечу",year:"1572",imageNum:"236"},{author:"Пабло Пикассо",name:"Дружба",year:"1908",imageNum:"237"},{author:"Аксели Галлен-Каллела",name:"Девушка на ветру",year:"1893",imageNum:"238"},{author:"Иван Айвазовский",name:"Волна",year:"1889",imageNum:"239"},{author:"Эжен Делакруа",name:"Автопортрет",year:"1837",imageNum:"240"}],h=new i,y=new o;class N{constructor(e,t="picture",r=4){let m=e;m>=l.length&&(m=0),this.answersNumber=r,this.number=m,this.roundNumber=Math.floor(m/a),this.name=l[m].name,this.author=l[m].author,this.year=l[m].year,this.imageNum=l[m].imageNum,this.imagePath=`https://github.com/komalapa/image-data/raw/master/full/${this.imageNum}full.jpg`,this.answers=[],this.type=t,this.genAnswers=this.genAnswers.bind(this),this.genAnswers(),this.isSolved=Boolean(h[t][m]),this.timeOut=null}getImage(){const e=new Image;return e.src=this.imagePath,e}getAuthor(){return this.author}getAnswers(){return this.answers}genAnswers(){const a=[];a.push(this.author);for(let t=0;t<this.answersNumber-1;t+=1){const r=Math.floor(Math.random()*l.length);let m;"author"===this.type?m=`${e}${l[r].imageNum}.jpg`:"picture"===this.type&&(m=l[r].author),a.indexOf(l[r].author.toLowerCase())>=0?t-=1:(this.answers.push(m),a.push(l[r].author.toLowerCase()))}return"author"===this.type&&this.answers.push(this.imagePath),"picture"===this.type&&this.answers.push(this.author),this.answers=this.answers.sort((()=>.5-Math.random())),this.answers}isAnswer(e){return this.denyTimer(),("author"===this.type&&this.answers[e]===this.imagePath||"picture"===this.type&&this.answers[e]===this.author)&&(this.isSolved=!0,!0)}setTimer(e,a){this.isAnswered=!1;let t=+y.timer;const r=document.createElement("div");r.classList.add("question-timer"),r.innerHTML=t;const m=()=>{setTimeout((()=>{t-=1,r.innerText=t,null!==h.timer&&(t<3&&r.classList.add("question-timer-ending"),t>0?h.timer=m():a())}),1e3)};h.timer=m(),e.prepend(r)}denyTimer(){clearTimeout(this.timer),clearTimeout(h.timer),h.timer=null,this.isAnswered=!0}}class p{constructor(e,t="picture",r=4){this.questions=[];for(let m=e*a;m<(e+1)*a;m+=1)this.questions.push(new N(m,t,r));this.type=t,this.numberOfAnswers=r,this.number=e}getProgress(){let e=0;return this.questions.forEach((a=>{a.isSolved&&(e+=1)})),e/a}}const b=new o;class w{constructor(e="picture",a=b.answers){this.rounds=[];for(let t=0;t<Math.floor(24);t+=1)this.rounds.push(new p(t,e,a));this.type=e,this.numberOfAnswers=a}}const E=function(){let e;return function(a){return void 0===e&&(e={},e.paths={...a},e.sounds=[],e.container=document.createElement("div"),e.container.id="audios",Object.keys(e.paths).forEach((a=>{const t=document.createElement("audio");t.id=`audio-${a}`,t.src=e.paths[a],t.loop=!1,t.autoplay=!1,t.muted=!1,e.container.append(t),"main"===a?e.main=t:e.sounds.push(t)})),document.documentElement.append(e.container),e.isMusicOn=!0,e.main.loop=!0,e.isMusicOn&&function(){const e=document.createElement("div");e.classList.add("greeting-wrp"),e.id="greeting";const a=document.createElement("h2");a.innerText="Добро пожаловать в Art Quiz";const t=document.createElement("span");t.innerText="Приложение содержит звуки и музыку. Вы можете включить и выключить их в меню.";const r=document.createElement("span");r.innerText="Так же в меню можно изменить количество вариантов ответа";const m=document.createElement("span");m.innerText="И включить игру на время.";const n=document.createElement("span");n.innerText="Приятной игры!";const u=document.createElement("button");u.classList.add("greeting-btn"),u.dataset.action="closeGreeting",u.innerText="Продолжить",e.append(a,t,r,m,n,u),document.documentElement.append(e)}(),e.playClick=()=>{e.container.querySelector("#audio-click").play()},e.playWrong=()=>{e.container.querySelector("#audio-wrong").play()},e.muteAll=()=>{e.muteMusic(),e.muteSounds()},e.muteMusic=a=>{e.main.muted=a,a||e.main.play()},e.muteSounds=a=>{e.sounds=e.sounds.map((e=>{const t=e;return t.muted=a,t}))},e.setVolume=a=>{e.sounds=e.sounds.map((e=>{const t=e;return t.volume=a,t})),e.main.volume=a}),e}}(),L=E;function v(a,t=!0){const m=document.createElement("div");m.classList.add("results-container");const n=document.createElement("h3");n.innerText=`Раунд №${a.number+1} завершен!`;const u=a.getProgress(),s=document.createElement("span");s.innerText=`Ваш результат ${Math.round(100*u)}%`;let o="result-container";u<.3&&(o="low-result"),u>.6&&(o="high-result"),m.classList.add(o);const i=document.createElement("div");i.classList.add("results-btn-wrp");const c=document.createElement("button");if(c.classList.add("results-home","results-button"),c.dataset.action="goHome",c.innerText="Домой",i.append(c),t){const e=document.createElement("button");e.classList.add("results-next-round","results-button"),e.dataset.action="nextRound",e.dataset.roundNumber=a.number,e.innerText="Далее",i.append(e);const t=document.createElement("button");t.classList.add("results-rounds","results-button"),t.dataset.action="start",t.dataset.type=a.type,t.innerText="К раундам",i.append(t)}else{const e=document.createElement("button");e.classList.add("results-rounds","results-button"),e.dataset.action="removeResult",e.innerText="Закрыть",i.append(e)}const d=document.createElement("div");d.classList.add("results-questions");const g=[];a.questions.forEach((t=>{const r=new Promise((r=>{const m=document.createElement("div");m.classList.add("results-questions-marker");const n=new Image;n.src=`${e}${t.number}.jpg`,t.isSolved||m.classList.add("results-questions-marker-wrong"),m.dataset.action="info",m.dataset.number=t.number,m.dataset.action="info",m.dataset.roundNumber=a.number,m.dataset.questionNumber=t.number,d.append(m),n.onload=()=>{m.style.backgroundImage=`url(${n.src})`,r()}}));g.push(r)})),m.append(n,s,d,i),Promise.all(g).then((()=>r.append(m)))}var f=t(845);function T(){const e=document.createElement("div");e.classList.add("home-wrp");const a=document.createElement("h1");a.classList.add("home-header"),a.innerText="Art-Quiz",e.append(a);const t=document.createElement("button");t.classList.add("home-button"),t.innerText="Авторы",t.dataset.action="start",t.dataset.type="author";const m=document.createElement("button");m.classList.add("home-button"),m.innerText="Картины",m.dataset.action="start",m.dataset.type="picture";const n=document.createElement("button");n.classList.add("home-button"),n.innerText="Игра с другом",n.dataset.action="network";const u=document.createElement("button");u.classList.add("home-button"),u.innerText="Быстрая игра",u.dataset.action="fast-game";const s=document.createElement("footer");s.classList.add("home-footer");const o=document.createElement("a");o.classList.add("home-footer-course-link"),o.href="https://rs.school/js/",o.title="Курс «JavaScript/Front-end»";const i=document.createElement("img");i.classList.add("home-footer-course-img"),i.alt="RS school logo",i.src=f,o.append(i);const c=document.createElement("a");c.classList.add("home-footer-git-link"),c.innerText="github: komalapa",c.href="https://github.com/komalapa",s.append(o,c),e.append(t,m,n,u,s),r.innerHTML="",r.append(e)}const x=new L({click:"audio/zipclick.flac",wrong:"audio/MetalClick.wav",main:"audio/main.mp3"}),k=new o,q=new i;let A=new w("picture");const S=new o,I=new L;!function(){const e=document.createElement("button");e.classList.add("burger-toggle");const a=document.createElement("div");a.classList.add("burger-menu-wrp"),e.addEventListener("click",(()=>{e.classList.toggle("burger-toggle-open"),a.classList.toggle("burger-menu-open")}));const t=document.createElement("div");t.classList.add("burger-menu-mutes");const r=document.createElement("input");r.type="checkbox",r.classList.add("burger-menu-music-mute","burger-menu-checkbox"),r.id="music-mute",r.checked=S.music,I.muteMusic(!r.checked);const n=document.createElement("label");n.classList.add("burger-menu-music-mute-lbl","burger-menu-lbl"),n.innerText="Музыка",n.htmlFor="music-mute",n.dataset.action="settings",n.dataset.prop="music",r.addEventListener("input",(()=>{I.muteMusic(!r.checked),S.toggleMusic()}));const u=document.createElement("input");u.type="checkbox",u.classList.add("burger-menu-music-mute","burger-menu-checkbox"),u.id="sound-mute",u.checked=S.sounds,I.muteSounds(!u.checked);const s=document.createElement("label");s.classList.add("burger-menu-music-mute-lbl","burger-menu-lbl"),s.innerText="Звуки",s.htmlFor="sound-mute",t.append(r,n,u,s),s.dataset.action="settings",s.dataset.prop="sounds",u.addEventListener("input",(()=>{I.muteSounds(!u.checked),S.toggleSounds()}));const o=document.createElement("div");o.classList.add("burger-menu-volume-wrp");const i=document.createElement("input");i.type="range",i.classList.add("burger-menu-volume"),i.id="volume-bar",i.value=100*S.volume;const c=document.createElement("label");c.classList.add("burger-menu-volume-lbl"),c.htmlFor="volume-bar",o.append(c,i),i.addEventListener("input",(()=>{I.setVolume(i.value/100),S.setVolume(i.value/100)}));const d=document.createElement("div");d.classList.add("burger-menu-answers-wrp");const g=document.createElement("h4");g.innerText="Количество вариантов ответа";const l=document.createElement("input");l.type="radio",l.classList.add("burger-menu-answers","burger-menu-radio"),l.value="2",l.name="answers-radio",l.id="answers-radio-2";const h=document.createElement("label");h.classList.add("burger-menu-answers-lbl","burger-menu-lbl"),h.innerText="2",h.htmlFor="answers-radio-2",h.dataset.action="settings",h.dataset.prop="answers",h.dataset.value="2";const y=document.createElement("input");y.type="radio",y.classList.add("burger-menu-answers","burger-menu-radio"),y.value="4",y.id="answers-radio-4",y.name="answers-radio";const N=document.createElement("label");N.classList.add("burger-menu-answers-lbl","burger-menu-lbl"),N.innerText="4",N.htmlFor="answers-radio-4",N.dataset.action="settings",N.dataset.prop="answers",N.dataset.value="4";const p=document.createElement("input");p.type="radio",p.classList.add("burger-menu-answers","burger-menu-radio"),p.value="6",p.id="answers-radio-6",p.name="answers-radio";const b=document.createElement("label");b.classList.add("burger-menu-answers-lbl","burger-menu-lbl"),b.innerText="6",b.htmlFor="answers-radio-6",b.dataset.action="settings",b.dataset.prop="answers",b.dataset.value="6",d.append(g,l,h,y,N,p,b),d.querySelector(`input[name="answers-radio"][value="${S.answers}"]`).checked=!0;const w=document.createElement("div"),E=document.createElement("h4");E.innerText="Игра на время";const L=document.createElement("select");L.classList.add("burger-menu-select");const v=document.createElement("Option");L.dataset.action="settings",L.addEventListener("change",(()=>{S.setTimer(L.options[L.selectedIndex].value)})),v.value=null,v.innerText="∞",null===S.timer&&(v.selected=!0),L.append(v);for(let e=5;e<=30;e+=5){const a=document.createElement("Option");a.value=e,S.timer===e&&(a.selected=!0),a.innerText=`${e}сек.`,L.append(a)}w.append(E,L),a.append(t,o,d,w),m.append(e,a)}(),T(),document.addEventListener("click",(e=>{switch(e.target.dataset.action){case"render":if(x.playClick(),q.stopTimer(),"roundQuestions"===e.target.dataset.object){!function(e){const a=document.createElement("div");a.classList.add("round-wrp"),n(a,!0,e.number);const t=document.createElement("h2");t.classList.add("rounds-header"),t.innerText=`Раунд № ${e.number+1}`,a.append(t);for(let t=0;t<e.questions.length;t+=1){const r=document.createElement("div");r.classList.add("rounds-opener"),r.innerText=t+1,r.dataset.action="render",r.dataset.object="questions",r.dataset.roundNumber=e.number,r.dataset.questionNumber=t,a.append(r)}r.innerHTML="",r.append(a)}(A.rounds[+e.target.dataset.roundNumber]);break}if("questions"===e.target.dataset.object){g(A.rounds[+e.target.dataset.roundNumber].questions[+e.target.dataset.questionNumber]);break}break;case"answer":{const t=Math.floor(e.target.dataset.questionNumber/a),r=e.target.dataset.questionNumber%a,m=A.rounds[t].questions[r],n=m.isAnswer(e.target.dataset.index);q[A.type][e.target.dataset.questionNumber]=n,n?x.playClick():x.playWrong(),s(m,n)}break;case"start":x.playClick(),q.stopTimer(),A=new w(e.target.dataset.type),u(A);break;case"closeCard":if(e.target.dataset.number%a==9){v(A.rounds[+e.target.dataset.roundNumber]),q.saveState();break}g(A.rounds[+e.target.dataset.roundNumber].questions[(+e.target.dataset.number+1)%a]);break;case"removeCard":{const e=document.getElementsByClassName("card-wrp");Array.from(e).forEach((e=>{e.remove()}))}break;case"removeResult":{const e=document.getElementsByClassName("results-container");Array.from(e).forEach((e=>{e.remove()}))}break;case"nextRound":e.target.dataset.roundNumber>=A.rounds.length-1?u(A):g(A.rounds[+e.target.dataset.roundNumber+1].questions[0]);break;case"info":s(A.rounds[+e.target.dataset.roundNumber].questions[+e.target.dataset.questionNumber%a],!0,!1);break;case"roundResult":v(A.rounds[+e.target.dataset.roundNumber],!1);break;case"goHome":T(),q.stopTimer();break;case"settings":x.playClick(),q.stopTimer(),"answers"===e.target.dataset.prop&&(k.setAnswers(+e.target.dataset.value),A=new w(A.type),T());break;case"muteAll":x.muteMusic(),x.muteSounds(),document.getElementById("greeting").remove();break;case"closeGreeting":x.main.autoplay=!0,k.music&&x.main.play(),document.getElementById("greeting").remove()}}))})()})();